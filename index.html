<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù…ÙØ§Ø¬Ø£Ø© Ø³Ø§Ø±Ø© â€” Ø§Ù„Ø¸Ø±Ù</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#070315; --bg2:#1a0420;
    --neon1:#ff3f8f; --neon2:#ff7fb6;
    --muted:#caa6bf;
    --phone-w:360px; --phone-h:760px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Cairo',sans-serif;background:
    radial-gradient(circle at 10% 10%, rgba(255,20,120,0.02), transparent 6%),
    linear-gradient(180deg,var(--bg1),var(--bg2)); color:#fff; -webkit-font-smoothing:antialiased;}

/* ---------- decorative layers ---------- */
.space { position:fixed; inset:0; z-index:0; pointer-events:none; overflow:visible; }
.s { position:absolute; background:#fff; border-radius:50%; filter:drop-shadow(0 0 6px rgba(255,180,230,0.06)); opacity:.85; }

/* meteors container (SVG paths created by JS) */
.meteors { position:fixed; inset:0; z-index:1; pointer-events:none; overflow:visible; }

/* floating hearts */
.heart { position:fixed; font-size:26px; color:var(--neon1); filter:drop-shadow(0 12px 36px rgba(255,80,150,0.12)); z-index:2; opacity:.92; }

/* stage & phone */
.stage { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:48px 16px; position:relative; z-index:3; }
.container { width:100%; max-width:980px; display:flex; justify-content:center; align-items:center; }

/* phone mockup */
.phone {
  width:var(--phone-w); height:var(--phone-h);
  border-radius:38px; padding:12px; position:relative;
  background:linear-gradient(180deg,#0b0410,#14041a);
  box-shadow: 0 40px 120px rgba(0,0,0,0.7), inset 0 2px 30px rgba(255,20,140,0.02);
  border:6px solid rgba(255,255,255,0.03);
}
.phone::before{ content:""; position:absolute; inset:-8px; border-radius:46px; box-shadow: inset 0 2px 8px rgba(255,255,255,0.02); pointer-events:none; }

/* screen */
.screen {
  width:100%; height:100%; border-radius:30px; overflow:hidden; position:relative;
  background:linear-gradient(180deg,#160318,#0f0610);
  display:flex; flex-direction:column; align-items:center; padding:48px 22px 84px;
}

/* neon rails */
.rail { position:absolute; top:110px; bottom:120px; width:6px; border-radius:10px; background:linear-gradient(180deg,var(--neon1),var(--neon2)); box-shadow:0 0 40px rgba(255,60,150,0.14); z-index:6; }
.rail.left{ left:18px } .rail.right{ right:18px }

/* header inside screen */
.logo { font-size:36px; color:var(--neon1); filter:drop-shadow(0 16px 50px rgba(255,40,150,0.18)); }
.title { margin-top:8px; font-size:28px; font-weight:800; color:var(--neon1); text-shadow:0 8px 40px rgba(255,20,140,0.14); }
.subtitle { color:var(--muted); margin-top:6px; font-weight:600 }

/* card area (center) */
.card-area { width:88%; max-width:360px; height:420px; margin-top:14px; border-radius:28px;
  background:linear-gradient(180deg, rgba(0,0,0,0.48), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.02);
  box-shadow: 0 40px 90px rgba(0,0,0,0.6), inset 0 8px 30px rgba(255,20,140,0.02);
  display:flex; align-items:center; justify-content:center; position:relative; padding:28px;
}

/* textual content inside */
.lead { color:#ffd7ee; font-weight:900; font-size:20px; text-align:center; margin-bottom:8px; }
.desc { color:#efcfe6; opacity:.95; text-align:center; font-size:14px; line-height:1.6; max-width:86%; margin:6px auto 18px }

/* triangle / flap graphic placeholder (click area) */
.triangle-wrap { margin-top:6px; width:100%; display:flex; justify-content:center; align-items:center; }
.triangle {
  width:160px; height:78px; clip-path:polygon(0% 100%,50% 0%,100% 100%); border-radius:12px;
  background:linear-gradient(180deg,#ff6ea6,#ff3f7f); position:relative; display:flex; align-items:flex-end; justify-content:center; padding-bottom:12px;
  box-shadow: 0 26px 50px rgba(255,40,140,0.12), inset 0 -8px 28px rgba(255,255,255,0.04);
  cursor:pointer;
  transition: transform .26s cubic-bezier(.2,.9,.2,1);
}

/* small heart inside triangle */
.tri-heart { width:48px;height:48px;border-radius:10px;background:linear-gradient(180deg,#fff3f8,#ffdce8);display:flex;align-items:center;justify-content:center;color:#ff3f8f;font-weight:900;box-shadow:0 8px 22px rgba(255,30,140,0.12) }

/* CTA button */
.cta { margin-top:18px;background:linear-gradient(90deg,#ff6ea6,#ff3f7f); border:none; padding:14px 22px; border-radius:999px; color:#fff; font-weight:900; box-shadow:0 22px 48px rgba(255,60,150,0.16); cursor:pointer; font-size:16px; }

/* neon bottom arc */
.neon-arc{ position:absolute; left:26px; right:26px; bottom:18px; height:36px; display:flex; align-items:center; justify-content:center; pointer-events:none; }
.neon-arc::before{ content:""; position:absolute; left:8px; right:8px; bottom:6px; height:6px; border-radius:999px; background:linear-gradient(90deg,var(--neon2),var(--neon1)); box-shadow:0 10px 52px rgba(255,40,140,0.14); }

/* ---------------- Envelope (exact, realistic style inside screen) ---------------- */
.envelope-pro {
  width:82%; max-width:280px; height:190px; perspective:1200px; position:relative; margin-top:6px;
}
.env-shape {
  position:absolute; left:50%; transform:translateX(-50%); width:100%; height:100%; bottom:0; z-index:5;
  transform-style:preserve-3d;
}

/* outer body (dark glossy) */
.env-body {
  position:absolute; left:0; right:0; bottom:6px; height:64%; border-radius:12px;
  background: linear-gradient(180deg,#12020a,#2a0717);
  border:4px solid rgba(255,255,255,0.02);
  box-shadow: 0 18px 60px rgba(0,0,0,0.7), inset 0 6px 18px rgba(255,255,255,0.02);
}

/* flap (3d) */
.env-flap {
  position:absolute; left:50%; transform:translateX(-50%); top:-60px; width:220px; height:120px;
  background: linear-gradient(180deg,#ff7aa0,#ff4d8a);
  clip-path: polygon(50% 0, 100% 100%, 0 100%);
  border-radius:12px;
  transform-origin: top center;
  transition: transform 1.05s cubic-bezier(.2,.9,.2,1);
  box-shadow: inset 0 -12px 30px rgba(0,0,0,0.08), 0 20px 40px rgba(255,40,140,0.06);
  z-index:12;
}

/* seal (click to open) */
.seal {
  position:absolute; left:50%; transform:translateX(-50%); bottom:14px; width:62px; height:62px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #ffffff, #ffdfe8 20%, #ff9fcd 40%, #ff4d8a 100%);
  box-shadow: 0 12px 36px rgba(255,60,150,0.18);
  display:flex; align-items:center; justify-content:center; font-weight:900; color:#fff; cursor:pointer; z-index:14;
  border:3px solid rgba(255,255,255,0.12);
}

/* inside paper/card (the "message card" type 2) */
.message-card {
  position:absolute; left:50%; transform:translateX(-50%) translateY(90px); top:14px;
  width:86%; height:68%; border-radius:12px; background:linear-gradient(180deg,#fff,#fffefc);
  box-shadow: 0 22px 60px rgba(10,6,12,0.18); padding:16px; opacity:0;
  transition: transform .92s cubic-bezier(.2,.9,.2,1), opacity .6s ease;
  z-index:11; overflow:hidden;
}

/* when opened */
.env-open .env-flap { transform: rotateX(-165deg) translateY(-6px); }
.env-open .message-card { transform:translateX(-50%) translateY(-140px); opacity:1; }

/* message card internal style */
.msg-title { font-size:18px; font-weight:900; color:#3b1f2a; text-align:center; }
.msg-body { margin-top:8px; color:#4f3840; line-height:1.6; text-align:center; font-weight:700; font-size:14px; }

/* subtle pulse before opening */
.env.hint .env-flap { animation: flapPulse 1.6s ease-in-out infinite; }
@keyframes flapPulse {
  0%{ transform: translateX(-50%) rotateX(0) scale(1); }
  50%{ transform: translateX(-50%) rotateX(-4deg) scale(1.02); }
  100%{ transform: translateX(-50%) rotateX(0) scale(1); }
}

/* shadow under whole envelope */
.env-shadow {
  position:absolute; left:50%; transform:translateX(-50%); bottom:-6px; width:86%; height:32px; border-radius:16px;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0.5), rgba(0,0,0,0.2)); filter:blur(8px); z-index:3;
}

/* small responsive */
@media (max-width:520px){
  :root{ --phone-w:330px; --phone-h:700px }
  .title{font-size:24px}
  .card-area{height:420px}
  .env-flap{width:200px;height:108px;top:-48px}
}
</style>
</head>
<body>

<!-- decorative layers -->
<div class="space" id="space"></div>
<div class="meteors" id="meteors"></div>

<!-- floating hearts -->
<div class="heart" style="left:8vw; top:46vh">ğŸ’—</div>
<div class="heart" style="right:8vw; top:34vh">ğŸ’—</div>

<!-- main stage -->
<div class="stage">
  <div class="container">
    <div class="phone" role="img" aria-label="Ù‡Ø§ØªÙ">
      <div class="screen" role="region" aria-label="Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©">

        <div class="rail left" aria-hidden="true"></div>
        <div class="rail right" aria-hidden="true"></div>

        <div class="logo">ğŸŒ™</div>
        <div class="title">Ø£Ù†ØªÙ ØµÙÙ†ÙØ¹ØªÙ Ù„Ù„Ø­Ø¨!</div>
        <div class="subtitle">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: Ù…ÙØ§Ø¬Ø£Ø© ÙƒÙˆÙ†ÙŠØ© ÙˆØ±Ø¯ÙŠØ©</div>

        <div class="card-area">
          <div class="lead">Ø£Ù†ØªÙ ØµÙÙ†ÙØ¹ØªÙ Ù„Ù„Ø­Ø¨!</div>
          <div class="desc">Ù‚Ù„Ø¨ÙƒÙ ÙŠØ³Ø·Ø¹ ÙƒØ§Ù„Ù†Ø¬ÙˆÙ… â€” Ù‡Ø°Ø§ ÙŠÙˆÙ… Ø®Ø§Øµ Ø£Ø±Ø³Ù„ Ù„Ùƒ Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù‚Ù„Ø¨ Ù„ØªØ¨ØªØ³Ù…ÙŠ.</div>

          <div class="triangle-wrap" aria-hidden="true">
            <div class="triangle" id="triangle">
              <div class="tri-heart">â¤</div>
            </div>
          </div>

          <button class="cta" id="openCTA">Ø£Ù…Ù‘ÙŠÙ† Ø£ÙØªØ­Ù„ÙŠ Ù‡Ø¯ÙŠØ© Ø§Ù„Ø­Ø¨</button>

          <div class="neon-arc" aria-hidden="true"></div>

          <!-- envelope inside card (on top) -->
          <div class="envelope-pro env hint" id="envelope" aria-label="Ø¸Ø±Ù Ø±Ø³Ø§Ù„Ø©">
            <div class="env-shadow" aria-hidden="true"></div>

            <div class="env-shape">
              <div class="env-body" aria-hidden="true"></div>
              <div class="env-flap" id="envFlap" aria-hidden="true"></div>

              <div class="message-card" id="messageCard" role="article" aria-live="polite">
                <div class="msg-title">Ù‡Ø¯ÙŠØ© ØµØºÙŠØ±Ø© Ù…Ù† Ø§Ù„Ù‚Ù„Ø¨</div>
                <div class="msg-body">Ø¥Ù„Ù‰ Ø³Ø§Ø±Ø© Ø§Ù„ØºØ§Ù„ÙŠØ© ğŸ’–\nÙƒÙ„ Ø³Ù†Ø© ÙˆØ£Ù†ØªÙ Ø¨Ø®ÙŠØ±. Ø£ØªÙ…Ù†Ù‰ Ù„Ùƒ Ø£ÙŠØ§Ù…Ù‹Ø§ Ù…Ù„Ø£Ù‰ Ø¨Ø§Ù„Ø­Ø¨ ÙˆØ§Ù„Ø¶Ø­ÙƒØ©.</div>
              </div>

              <div class="seal" id="seal" role="button" aria-pressed="false">â¤</div>
            </div>
          </div>

        </div>
      </div>
    </div><!-- end phone -->
  </div>
</div>

<script>
/* ----------------- Stars background generation ----------------- */
const space = document.getElementById('space');
function genStars(count=160){
  const frag = document.createDocumentFragment();
  for(let i=0;i<count;i++){
    const d = document.createElement('div');
    d.className='s';
    const size = (Math.random()*1.8 + 0.6).toFixed(2);
    d.style.width = size + 'px'; d.style.height = size + 'px';
    d.style.left = (Math.random()*100) + 'vw';
    d.style.top = (Math.random()*100) + 'vh';
    d.style.opacity = (0.25 + Math.random()*0.85);
    d.style.animationDelay = (Math.random()*3) + 's';
    frag.appendChild(d);
  }
  space.appendChild(frag);
}
genStars();

/* -------------- Meteors (curved realistic paths) -------------- */
const meteorsEl = document.getElementById('meteors');

function spawnMeteor(delaySec){
  const NS = "http://www.w3.org/2000/svg";
  const svg = document.createElementNS(NS,'svg');
  svg.setAttribute('style','position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;overflow:visible;z-index:2');
  const g = document.createElementNS(NS,'g');

  // random start in upper-right quadrant
  const startX = window.innerWidth * (0.7 + Math.random()*0.18);
  const startY = window.innerHeight * (0.03 + Math.random()*0.12);
  const cpX = startX - (200 + Math.random()*280);
  const cpY = startY + (120 + Math.random()*260);
  const endX = startX - (600 + Math.random()*360);
  const endY = startY + (360 + Math.random()*260);

  const path = document.createElementNS(NS,'path');
  const d = `M ${startX} ${startY} Q ${cpX} ${cpY} ${endX} ${endY}`;
  path.setAttribute('d', d);
  path.setAttribute('stroke','rgba(255,120,200,0.95)');
  path.setAttribute('stroke-width','3');
  path.setAttribute('fill','none');
  path.setAttribute('stroke-linecap','round');
  path.style.filter = 'blur(1px) drop-shadow(0 0 12px rgba(255,100,180,0.8))';
  path.style.strokeDasharray = path.getTotalLength ? path.getTotalLength() : 1200;
  path.style.strokeDashoffset = path.style.strokeDasharray;

  // bright head
  const head = document.createElementNS(NS,'circle');
  head.setAttribute('r',4);
  head.setAttribute('fill','white');
  head.style.filter = 'drop-shadow(0 0 20px rgba(255,120,200,0.95))';

  g.appendChild(path); g.appendChild(head); svg.appendChild(g); meteorsEl.appendChild(svg);

  // animate stroke drawing
  const totalLen = path.getTotalLength();
  path.style.strokeDasharray = totalLen;
  path.style.strokeDashoffset = totalLen;
  const drawTime = 1200 + Math.random()*1200;
  setTimeout(()=> {
    path.style.transition = `stroke-dashoffset ${drawTime}ms cubic-bezier(.2,.7,.3,1)`;
    path.style.strokeDashoffset = 0;
  }, delaySec*1000);

  // animate head along path
  const start = performance.now() + delaySec*1000;
  function move(now){
    const t = Math.min(1,(now - start) / (drawTime));
    if(t<=0){ requestAnimationFrame(move); return; }
    const pt = path.getPointAtLength(t * totalLen);
    head.setAttribute('cx', pt.x); head.setAttribute('cy', pt.y);
    // give trailing glow fade by adjusting opacity
    head.style.opacity = 1 - Math.pow(t,0.9);
    if(t < 1) requestAnimationFrame(move);
    else {
      setTimeout(()=>{ if(svg.parentNode) svg.parentNode.removeChild(svg); }, 600);
    }
  }
  requestAnimationFrame(move);
}

// loop meteors with randomness
(function meteorLoop(){
  spawnMeteor(Math.random()*0.7);
  setTimeout(meteorLoop, 900 + Math.random()*1200);
})();

/* -------------- Envelope open behavior -------------- */
const envelope = document.getElementById('envelope');
const seal = document.getElementById('seal');
const envFlap = document.getElementById('envFlap');
const messageCard = document.getElementById('messageCard');
const openCTA = document.getElementById('openCTA');

// small helper to add/remove classes on envelope element (.env-open)
function openEnv(){
  if(envelope.classList.contains('env-open')) return;
  envelope.classList.remove('hint'); // stop hint pulse
  // quick gentle shake
  envelope.classList.add('env-shaking');
  envelope.animate([
    { transform: 'translateY(0)' },
    { transform: 'translateY(-6px)' },
    { transform: 'translateY(0)' }
  ], { duration: 360, easing:'ease-out' });
  setTimeout(()=> {
    envelope.classList.remove('env-shaking');
    envelope.classList.add('env-open');
    // small pop for message card (shadow + translate)
    messageCard.animate([
      { transform: 'translateX(-50%) translateY(0)', opacity:0 },
      { transform: 'translateX(-50%) translateY(-130px)', opacity:1 }
    ], { duration: 920, easing: 'cubic-bezier(.2,.9,.2,1)' });
    // confetti subtle
    if(window.confetti) confetti({ particleCount: 60, spread: 80, origin: { y: 0.35 }});
    // set aria pressed
    seal.setAttribute('aria-pressed','true');
  }, 320);
}

function closeEnv(){
  if(!envelope.classList.contains('env-open')) return;
  envelope.classList.remove('env-open');
  messageCard.style.opacity = 0;
  seal.setAttribute('aria-pressed','false');
}

// attach handlers
seal.addEventListener('click', ()=> {
  if(envelope.classList.contains('env-open')) closeEnv();
  else openEnv();
});
openCTA.addEventListener('click', ()=> openEnv());
// also click envelope area
envelope.addEventListener('click', (e)=>{
  // avoid double toggles when clicking seal (seal has own)
  if(e.target === seal) return;
  if(envelope.classList.contains('env-open')) closeEnv();
  else openEnv();
});

// initial small hint (pulse) for user
setTimeout(()=> { envelope.classList.add('hint'); }, 900);

/* ----------------- accessibility & resize ----------------- */
window.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter' || e.key === ' ') {
    openEnv();
  } else if(e.key === 'Escape') closeEnv();
});
window.addEventListener('resize', ()=> {
  // keep meteors spawning relative to window size; nothing else needed
});
</script>
</body>
</html>
